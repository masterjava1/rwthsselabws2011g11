\chapter{Analyse}
\label{ch:2}

\section{Anforderungsanalyse}
\label{sec:2.1}

\subsection{Benutzeranforderungen}

{Das von Herrn Professor Gauger gestellte Simulationsproblem umfasst die Erstellung einer Software zur Simulation eines Stehaufkreisels.

Die Simulation muss sowohl den reibungsbehafteten, als auch reibungsfreien Fall korrekt simulieren.

Im Speziellen wird ein Runge-Kutta56-Verfahren mit adaptiver Schrittweitensteuerung unter Betrachtung einer Erhaltungsgr\"o\ss e (\textit{conserved quantity}) zur Simulation des Problems verwendet.\\ 

% ??????????????????????????????
\textit{Wahrscheinlich wird das Rkv56 Verfahren durch ein BDF-Verfahren oder eine C++ Implementierung eines speziellen Krylow-Verfahrens ersetzt.\\
https://computation.llnl.gov/casc/software.html } \\ 
Die Realisierung der Simulation findet in C++ statt. \\

Die Bedienung sowie das Ausgeben der Simulationsergebnisse muss durch eine grafische Benutzeroberfl\"ache (\textit{GUI}) m\"oglich sein.

Die Simulationsergebnisse k\"onnen in einer \textit{ASCII}-formatierten Datei zur weiteren Verarbeitung und Auswertung exportiert werden.

Durch den modularen Aufbau ist die Wartbarkeit und einfache Erweiterbarkeit der Software durch Dritte gew\"ahrleistet.
 

Das Kernproblem besteht im L\"osen der Rechten Seite des folgenden Differentialgleichungssystems:

\begin{align*}
	&
	\ddot \theta (I+ma^2\sin^2\theta+kma\sin \theta(R-a\cos\theta)(-\dot x_c
	\sin\phi+\dot y_c \cos \phi+(R-a\cos\theta)\dot \theta))
	\\&
	=\underbrace{-(I_3-I)\dot \phi^2\sin\theta\cos\theta}_{=0}-I_3\dot \phi \sin \theta \dot \psi 
	+ (g+a\dot \theta^2\cos \theta)(-ma\sin\theta - km(R-a\cos \theta)
	\\&
	(-\dot x_c \sin \phi +\dot y_c \cos \phi+(R-a\cos\theta)\dot \theta))
\end{align*}
\begin{align*}
	&
	\ddot \phi I \sin\theta= -\underbrace{(2I-I_3)}_{=I}
	\dot \phi \dot \theta \cos \theta + I_3\dot \theta \dot \psi
	\\&
	-km(g+a\cos\theta\dot\theta^2+a\sin\theta\ddot\theta)
	(a-R\cos\theta)(\dot x_c\cos \phi +\dot y_c \sin\phi+
	(a\dot \phi+\dot \psi R)\sin \theta)
\end{align*}
\begin{align*}
	&\ddot \psi I_3=-I_3(\ddot \phi \cos \theta - \dot \phi \dot \theta \sin \theta)
	\\&
	-km(g+a\cos\theta\dot\theta^2+a \sin\theta\ddot \theta)(R\sin\theta)
	(\dot x_c\cos \phi +\dot y_c \sin \phi+(a\dot \phi +\dot \psi R)\sin\theta)
\end{align*}
\begin{align*}
	&m\ddot x_c=-km(g+a\cos\theta\dot \theta^2+a\sin \theta\ddot\theta)
	(\dot x_c+(a\dot \phi + \dot \psi R)\sin \theta\cos \phi+
	(a\cos \theta -R)\sin \phi \dot \theta)
\end{align*}
\begin{align*}
	&m\ddot y_c=-km(g+a\cos \theta\dot \theta^2+a \sin \theta \ddot \theta)
	(\dot y_c+(a\dot \phi + \dot \psi R)\sin \theta \sin \phi
	+(R-a\cos \theta)\cos\phi \dot \theta)
\end{align*}


\subsection{Anwendungsfallanalyse}

% Diagramme
\subsubsection*{Systemanforderungen}
\subsubsubsection*{Funktionale Anforderungen}

{Dem Anwender ist es m\"oglich die Simulationsparameter k (Reibung) sowie 
$ \dot \psi $ (rad/s) \"uber eine grafische Eingabemaske festzulegen. 
Wenn w\"ahrend der Simulation ein Fehler auftritt wird der Anwender 
\"uber ein Popup-Fenster benachrichtigt. Nach Durchlauf der Simulation
bekommt der Anwender die Simulationsergebnisse 
\textit{ - $\theta, \psi, \phi, x_c, y_c, \dot \theta, \dot \psi, 
\phi$ -} in Form von \textit{LineCharts} in eine \textit{GUI} 
eingebettet angezeigt.} 

Die auf der \textit{GUI} ausgegebenen Plots k\"onnen als Bilddatei exportiert werden. \medskip

Kommt es w\"ahrend der Laufzeit zu einem kritischen Fehler (ein Fehler, der das korrekte Fortf\"uhren des Programmes unm\"oglich macht) wird der Anwender \"uber ein Popup-Fenster benachrichtigt und das Programm beendet.
\medskip

\subsubsubsection*{Nicht-Funktionale Anforderungen}
{
Die Exportfunktion der Simulationssoftware schreibt Tecplot konforme ASCII-kodierte Ausgabedateien.
Vormals exportierte Dateien k\"onnen wieder importiert und geplottet werden.
Der Nutzer kann sich eine Statistik \"uber das Verhalten der Erhaltungsgr\"o\ss e und der Kontrollgr\"o\ss en zur Schrittweitensteuerung ausgeben lassen.  
}

\subsubsection*{Benutzerdokumentation}



%% {\em - folgt - nach Anwendungsfall}

\section{Begriffsanalyse}
\begin{itemize}
\item LineChart - \textit{Zwei Achsen Diagramm mit Kartesischem Koordinatensystem. Die einzelnen Datenpunkte sind durch gerade Linien verbunden.} 
\item GUI - \textit{Eine grafische Benutzeroberfl\"ache (GBO oder GUI) ist eine Software-Komponente, die dem Benutzer eines Computers die Interaktion mit der Maschine \"uber grafische Symbole erlaubt.} 
\end{itemize}

%% {\em -folgt -}



