\chapter{Analyse}
\label{ch:2}

\section{Anforderungsanalyse}
\label{sec:2.1}

\subsection{Benutzeranforderungen}

{Das von Herrn Professor Gauger gestellte Simulationsproblem umfasst die Erstellung einer Software zur Simulation eines Stehaufkreisels.

Die Simulation muss sowohl den reibungsbehafteten, als auch reibungsfreien Fall korrekt simulieren.

Im Speziellen wird ein Runge-Kutta56-Verfahren mit adaptiver Schrittweitensteuerung unter Betrachtung einer Erhaltungsgröße (\textit{conserved quantity}) zur Simulation des Problems verwendet.\\ 
\textit{Wahrscheinlich wird das Rkv56 Verfahren durch ein BDF-Verfahren oder eine C++ Implementierung eines speziellen Krylow-Verfahrens ersetzt.\\
https://computation.llnl.gov/casc/software.html } \\ 
Die Realisierung der Simulation findet in C++ statt. \\

Die Bedienung sowie das ausgeben der Simulationsergebnisse muss durch eine grafische Benutzeroberfl\"ache (\textit{GUI}) m\"oglich sein.

Die Simulationsergebnisse k\"onnen in einer \textit{ASCII}-formatierten Datei zur weiteren Verarbeitung und Auswertung exportiert werden.

%(Bilder exportieren?) 

Durch den modularen Aufbau ist die Wartbarkeit und sp\"atere Modifikationen oder Erweiterungen durch externe Mitarbeiter gew\"ahrleistet. 
 

Das Kernproblem besteht im L\"osen der Rechten Seite des folgenden Differentialgleichungssystems:

\begin{align*}
	&
	\ddot \theta (I+ma^2\sin^2\theta+kma\sin \theta(R-a\cos\theta)(-\dot x_c
	\sin\phi+\dot y_c \cos \phi-(R-a\cos\theta)\dot \theta))
	\\&
	=\underbrace{-(I_3-I)\dot \phi^2\sin\theta\cos\theta}_{=0}-I_3\dot \phi \sin \theta \dot \psi 
	+ (g+a\dot \theta^2\cos \theta)(-ma\sin\theta - km(R-a\cos \theta)
	\\&
	(-\dot x_c \sin \phi +\dot y_c \cos \phi-(R-a\cos\theta)\dot \theta))
\end{align*}
\begin{align*}
	&
	\ddot \phi I \sin\theta= -\underbrace{(2I-I_3)}_{=I}
	\dot \phi \dot \theta \cos \theta + I_3\dot \theta \dot \psi
	\\&
	-km(g+a\cos\theta\dot\theta^2+a\sin\theta\ddot\theta)
	(a-R\cos\theta)(\dot x_c\cos \phi +\dot y_c \sin\phi+
	(a\dot \phi+\dot \psi R)\sin \theta)
\end{align*}
\begin{align*}
	&\ddot \psi I_3=-I_3(\ddot \phi \cos \theta - \dot \phi \dot \theta \sin \theta)
	\\&
	-km(g+a\cos\theta\dot\theta^2+a \sin\theta\ddot \theta)(R\sin\theta)
	(\dot x_c\cos \phi +\dot y_c \sin \phi+(a\dot \phi +\dot \psi R)\sin\theta)
\end{align*}
\begin{align*}
	&m\ddot x_c=-km(g+a\cos\theta\dot \theta^2+a\sin \theta\ddot\theta)
	(\dot x_c+(a\dot \phi + \dot \psi R)\sin \theta\cos \phi+
	(a\cos \theta -R)\sin \phi \dot \theta)
\end{align*}
\begin{align*}
	&m\ddot y_c=-km(g+a\cos \theta\dot \theta^2+a \sin \theta \ddot \theta)
	(\dot y_c+(a\dot \phi + \dot \psi R)\sin \theta \cos \phi
	+(R-a\cos \theta)\cos\phi \dot \theta)
\end{align*} }

\subsection{Anwendungsfallanalyse}

{\em Anwendungsf\"alle (Statik: Anwendungsfalldiagramme; Dynamik: 
Aktivit\"atsdiagramme; Textuelle Beschreibungen laut Vorlage}

\subsubsection{Systemanforderungen}

{Dem Anwender ist es möglich die Simulationsparameter k (Reibung) sowie $ \dot \psi $ (rad/s) \"uber eine grafische Eingabemaske festzulegen. Wenn w\"ahrend der Simulation ein Fehler auftritt wird der Anwender \"uber ein Popup-Fenster benachrichtigt. Nach Durchlauf der Simulation bekommt der Anwender die Simulationsergebnisse \textit{ - Variablen einfuegen... -} in Form von \textit{LineCharts} in eine GUI eingebettet angezeigt. Die Ausgabemaske bietet die M\"oglichkeit die Simulationsergebnisse als ASCII-kodierte Datei zu exportieren.
Kommt es w\"ahrend der Laufzeit zu einem kritischen \textit{ - erklaerung kritischer Fehler -}Fehler wird der Anwender \"uber ein Popup-Fenster benachrichtigt und das Programm beendet. }

%% \subsubsection{Benutzerdokumentation}

%% {\em - folgt -}

%% \section{Begriffsanalyse}

%% {\em -folgt -}



